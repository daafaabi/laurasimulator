:root{
  --bg:#0f1220;--card:#171a2b;--muted:#9aa3b2;--text:#e8ecf1;--accent:#86e1ff;--good:#6ee7a2;--bad:#ff7a90;
}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:
radial-gradient(1200px 600px at 20% -10%,#1b2040 0,#0f1220 50%),var(--bg);color:var(--text)}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid #232746;position:sticky;top:0;background:#0f1220cc;backdrop-filter:blur(6px)}
.top-actions{display:flex;gap:8px}
.wrap{max-width:1120px;margin:0 auto;padding:20px;display:grid;gap:16px}
.hud{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
.stat{background:var(--card);border:1px solid #242846;border-radius:12px;padding:12px}
.label{font-size:12px;color:var(--muted);margin-bottom:6px}
.big{font-size:28px}
.val{font-size:12px;color:var(--muted);margin-top:6px}
.bar{height:12px;background:#0c0f1f;border:1px solid #2a2f55;border-radius:999px;overflow:hidden}
.fill{height:100%;width:0%;background:linear-gradient(90deg,#3da2ff,var(--accent));transition:width .2s}
.fill.good{background:linear-gradient(90deg,#4ad08c,#6ee7a2)}
.fill.bad{background:linear-gradient(90deg,#ff6480,#ff7a90)}
.scene{display:grid;grid-template-columns:320px 1fr;gap:16px}
.card{background:var(--card);border:1px solid #242846;border-radius:16px;padding:18px;display:flex;flex-direction:column;gap:12px}
.choices{display:grid;gap:10px}
.choices button{background:#0c1024;color:var(--text);border:1px solid #2a2f55;border-radius:12px;padding:12px 14px;text-align:left;cursor:pointer;transition:transform .04s,border-color .2s}
.choices button:hover{border-color:#3b4bd1}.choices button:active{transform:translateY(1px)}
.hint{color:var(--muted)}
.log{background:var(--card);border:1px solid #242846;border-radius:16px;padding:18px}
.log ul{list-style:none;margin:0;padding:0;display:grid;gap:8px;max-height:240px;overflow:auto}
.footer{display:flex;gap:10px;align-items:center}.footer .spacer{flex:1}
button{font:inherit}
#restartBtn,.ghost{background:#121633;color:var(--text);border:1px solid #2a2f55;border-radius:10px;padding:10px 14px;cursor:pointer}
.ghost{background:transparent}
.meta{color:var(--muted);font-size:14px}

/* Laura */
.laura{background:linear-gradient(180deg,#151a33,#0f1220);border:1px solid #242846;border-radius:16px;padding:18px;display:grid;place-items:center;position:relative;overflow:hidden}
.face{width:170px;height:170px;border-radius:50%;background:radial-gradient(circle at 40% 35%,#ffdfdf,#ffc6c6 60%,#f7a6a6 100%);border:4px solid #35222a;position:relative;box-shadow:0 10px 40px #0006}
.eye{width:18px;height:18px;background:#111;border-radius:50%;position:absolute;top:60px}
.eye.left{left:46px}.eye.right{right:46px}
.mouth{width:70px;height:24px;border-radius:0 0 40px 40px;background:#7b1e2a;position:absolute;bottom:54px;left:50%;transform:translateX(-50%)}
.mouth.cry{animation:cry .8s infinite}
@keyframes cry{0%{height:24px}50%{height:40px;background:#8c2030}100%{height:24px}}
.bubble{position:absolute;bottom:10px;left:10px;background:#2a2f55;border:1px solid #3a4080;padding:8px 10px;border-radius:10px;max-width:280px}
.hidden{opacity:0}
.confetti{pointer-events:none;position:absolute;inset:0}

/* dialogs */
dialog{background:#0f1220;color:var(--text);border:1px solid #2a2f55;border-radius:12px;padding:18px;max-width:640px}
dialog::backdrop{background:#0006}
.bossbars{display:grid;gap:10px;margin:10px 0}
.bbar{display:grid;gap:6px}
.bLabel{font-size:12px;color:var(--muted)}
.bMeter{height:14px;background:#0c0f1f;border:1px solid #2a2f55;border-radius:999px;overflow:hidden}
.bFill{height:100%;width:0%}
.sequence{display:flex;gap:6px;flex-wrap:wrap}
.sequence .box{border:1px solid #2a2f55;background:#0c1024;border-radius:8px;padding:8px 10px}
.keys kbd{display:inline-block;border:1px solid #2a2f55;border-radius:6px;padding:4px 8px;margin-right:6px}

@media (max-width:900px){.scene{grid-template-columns:1fr}}
